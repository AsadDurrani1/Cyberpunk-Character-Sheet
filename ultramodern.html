<table>
	<tr>
		<td class="logo" colspan="3">
			<img src="https://raw.githubusercontent.com/Magus-Sayj/Cyberpunk-Character-Sheet/master/ultramodern5.png"> </div>
		</td>
	</tr>
	<tr>
		<td class="character_name">
			<input type="text" name="attr_character_name" class="name_field">
			</input><br>
			<h3>
				Character Name
			</h3>
		</td>
		<td class="definers">
			<table>
				<tr>
					<td>
						<input type="text" name="attr_creature_type" class="text_field">
						</input><br>
						Creature Type
					</td>
					<td>
						<input type="text" name="attr_class" class="text_field">
						</input><br>
						Class
					</td>
					<td>
						<input type="text" name="attr_level" class="text_field">
						</input><br>
						Level
					</td>
				</tr>
				<tr>
					<td>
						<input type="text" name="attr_ladder" class="text_field">
						</input><br>
						Ladder
					</td>
					<td>
						<input type="text" name="attr_archetype" class="text_field">
						</input><br>
						Archetype
					</td>
					<td>
						<input type="text" name="attr_lifepath" class="text_field">
						</input><br>
						Lifepath
					</td>
				</tr>
			</table>
		</td>
	</tr>
</table>
<br>
<!ROW 2>
<table class="stats">
	<tr>
		<td class="stats_block">
			<button type="roll" value="&{template:default} {{name=@{character_name}}} {{Strength Check=[[1d20 + @{strength_mod}]]}}">STR</button><br>
			<input type="number" name="attr_strength" class="ability_score_field">
			</input><br>
			<input type="number" name="attr_strength_mod_display"
				value="@{strength_mod}" class="ability_mod_display_field" disabled="true" />
		</td>
	</tr>
	<tr>
		<td class="stats_block">
			<button type="roll" value="&{template:default} {{name=@{character_name}}} {{Dexterity Check=[[1d20 + @{dexterity_mod}]]}}">DEX</button><br>
			<input type="number" name="attr_dexterity" class="ability_score_field">
			</input><br>
			<input type="number" name="attr_dexterity_mod_display" class="ability_mod_display_field"
			value="@{dexterity_mod}" disabled="true" />
		</td>
	</tr>
	<tr>
		<td class="stats_block">
			<button type="roll" value="&{template:default} {{name=@{character_name}}} {{Constitution Check=[[1d20 + @{constitution_mod}]]}}">CON</button><br>
			<input type="number" name="attr_constitution" class="ability_score_field">
			</input><br>
			<input type="number" name="attr_constitution_mod_display" class="ability_mod_display_field"
			value="@{constitution_mod}" disabled="true" />
		</td>
	</tr>
	<tr>
		<td class="stats_block">
			<button type="roll" value="&{template:default} {{name=@{character_name}}} {{Intelligence Check=[[1d20 + @{intelligence_mod}]]}}">INT</button><br>
			<input type="number" name="attr_intelligence" class="ability_score_field">
			</input><br>
			<input type="number" name="attr_intelligence_mod_display" class="ability_mod_display_field"
			value="@{intelligence_mod}" disabled="true" />
		</td>
	</tr>
	<tr>
		<td class="stats_block">
			<button type="roll" value="&{template:default} {{name=@{character_name}}} {{Wisdom Check=[[1d20 + @{wisdom_mod}]]}}">WIS</button><br>
			<input type="number" name="attr_wisdom" class="ability_score_field">
			</input><br>
			<input type="number" name="attr_wisdom_mod_display" class="ability_mod_display_field"
			value="@{wisdom_mod}" disabled="true" />
		</td>
	</tr>
	<tr>
		<td class="stats_block">
			<button type="roll" value="&{template:default} {{name=@{character_name}}} {{Charisma Check=[[1d20 + @{charisma_mod}]]}}">CHR</button><br>
			<input type="number" name="attr_charisma" class="ability_score_field">
			</input><br>
			<input type="number" name="attr_charisma_mod_display" class="ability_mod_display_field"
			value="@{charisma_mod}" disabled="true" />
		</td>
	</tr>
</table>
<table class="saving_throws_and_skills">
	<tr>
		<td class="saving_throws_and_skills">
			<h3>
				Saving Throws
			</h3>
			<ul>
				<li>
					<input type="checkbox" name="attr_strength_save_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_strength_save"
						class="stat_field"
					value="@{strength_mod} +
							@{strength_save_proficiency}*@{proficiency_bonus}"
						 disabled="true"/>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Strength Saving Throw=[[1d20 + @{strength_save}]]}}">
					STR </button>
				</li>
				<li>
					<input type="checkbox" name="attr_dexterity_save_proficiency"
						value="1"
						class="has_proficiency"/>
					<input type="number" name="attr_dexterity_save" class="stat_field"
					value="@{dexterity_mod} + @{dexterity_save_proficiency}*@{proficiency_bonus}"
						 disabled="true"/>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Dexterity Saving Throw=[[1d20 + @{dexterity_save}]]}}">
					DEX </button>
				</li>
				<li>
					<input type="checkbox" name="attr_constitution_save_proficiency"
						value="1"
						class="has_proficiency"/>
					<input type="number" name="attr_constitution_save" class="stat_field"
					value="@{constitution_mod} + @{constitution_save_proficiency}*@{proficiency_bonus}"
						 disabled="true"/>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Constitution Saving Throw=[[1d20 + @{constitution_save}]]}}">
					CON </button>
				</li>
				<li>
					<input type="checkbox" name="attr_intelligence_save_proficiency"
						value="1"
						class="has_proficiency"/>
					<input type="number" name="attr_intelligence_save" class="stat_field"
					value="@{intelligence_mod} + @{intelligence_save_proficiency}*@{proficiency_bonus}"
						 disabled="true"/>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Intelligence Saving Throw=[[1d20 + @{intelligence_save}]]}}">
					INT </button>
				</li>
				<li>
					<input type="checkbox" name="attr_wisdom_save_proficiency"
						value="1"
						class="has_proficiency"/>
					<input type="number" name="attr_wisdom_save" class="stat_field"
					value="@{wisdom_mod} + @{wisdom_save_proficiency}*@{proficiency_bonus}"
						 disabled="true"/>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Wisdom Saving Throw=[[1d20 + @{wisdom_save}]]}}">
					WIS </button>
				</li>
				<li>
					<input type="checkbox" name="attr_charisma_save_proficiency"
						value="1"
						class="has_proficiency"/>
					<input type="number" name="attr_charisma_save" class="stat_field"
					value="@{charisma_mod} + @{charisma_save_proficiency}*@{proficiency_bonus}"
						 disabled="true"/>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Charisma Saving Throw=[[1d20 + @{charisma_save}]]}}">
					CHR </button>
				</li>
		</td>
	</tr>
	<tr>
		<td class="saving_throws_and_skills">
			<h3>
				Skills
			</h3>
			<ul>
				<li>
					<input type="checkbox" name="attr_acrobatics_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_acrobatics_mod"
					class="stat_field"
					value="@{dexterity_mod} + @{acrobatics_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Acrobatics Check =[[1d20 + @{acrobatics_mod}]]}}">
					Acrobatics (Dex) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_animal_handling_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_animal_handling_mod"
					class="stat_field"
					value="@{wisdom_mod} + @{animal_handling_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Animals Check =[[1d20 + @{animal_handling_mod}]]}}">
					Animals (Wis) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_athletics_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_athletics_mod"
					class="stat_field"
					value="@{strength_mod} + @{athletics_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Athletics Check =[[1d20 + @{athletics_mod}]]}}">
					Athletics (Str)</button>
				</li>
				<li>
					<input type="checkbox" name="attr_computer_use_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_computer_use_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{computer_use_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Computer Use Check =[[1d20 + @{computer_use_mod}]]}}">
					Computers (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_deception_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_deception_mod"
					class="stat_field"
					value="@{charisma_mod} + @{deception_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Deception Check =[[1d20 + @{deception_mod}]]}}">
					Deception (Chr) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_demolitions_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_demolitions_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{demolitions_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Demolitions Check =[[1d20 + @{demolitions_mod}]]}}">
					Demolitions (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_engineering_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_engineering_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{engineering_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Engineering Check =[[1d20 + @{engineering_mod}]]}}">
					Engineering (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_history_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_history_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{history_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{History Check =[[1d20 + @{history_mod}]]}}">
					History (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_insight_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_insight_mod"
					class="stat_field"
					value="@{wisdom_mod} + @{insight_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Insight Check =[[1d20 + @{insight_mod}]]}}">
					Insight (Wis) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_intimidation_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_intimidation_mod"
					class="stat_field"
					value="@{charisma_mod} + @{intimidation_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Intimidation Check =[[1d20 + @{intimidation_mod}]]}}">
					Intimidation (Chr) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_investigation_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_investigation_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{investigation_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Investigation Check =[[1d20 + @{investigation_mod}]]}}">
					Investigation (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_medicine_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_medicine_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{medicine_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Medicine Check =[[1d20 + @{medicine_mod}]]}}">
					Medicine (Wis) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_nature_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_nature_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{nature_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Nature Check =[[1d20 + @{nature_mod}]]}}">
					Nature (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_perception_proficiency" value="1"
						class="has_proficiency"/>
					<input type="number" name="attr_perception_mod"
					class="stat_field"
					value="@{wisdom_mod} + @{perception_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Perception Check =[[1d20 + @{perception_mod}]]}}">
					Perception (Wis) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_performance_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_performance_mod"
					class="stat_field"
					value="@{charisma_mod} + @{performance_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Performance Check =[[1d20 + @{performance_mod}]]}}">
					Performance (Chr) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_persuasion_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_persuasion_mod"
					class="stat_field"
					value="@{charisma_mod} + @{persuasion_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Persuasion Check =[[1d20 + @{persuasion_mod}]]}}">
					Persuasion (Chr) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_sciences_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_sciences_mod"
					class="stat_field"
					value="@{intelligence_mod} + @{sciences_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Sciences Check =[[1d20 + @{sciences_mod}]]}}">
					Sciences (Int) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_sleight_of_hand_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_sleight_of_hand_mod"
					class="stat_field"
					value="@{dexterity_mod} + @{sleight_of_hand_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Sleight of Hand Check =[[1d20 + @{sleight_of_hand_mod}]]}}">
					S.o.H (Dex) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_stealth_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_stealth_mod"
					class="stat_field"
					value="@{dexterity_mod} + @{stealth_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Stealth Check =[[1d20 + @{stealth_mod}]]}}">
					Stealth (Dex) </button>
				</li>
				<li>
					<input type="checkbox" name="attr_survival_proficiency"
						value="1" class="has_proficiency"/>
					<input type="number" name="attr_survival_mod"
					class="stat_field"
					value="@{wisdom_mod} + @{survival_proficiency}*@{proficiency_bonus}"
						 disabled="true"/><br>
					<button type="roll" class="check" value="&{template:default} {{name=@{character_name}}} {{Survival Check =[[1d20 + @{survival_mod}]]}}">
					Survival (Wis) </button>
				</li>
			</ul>
		</td>
	</tr>
	<tr>
		<td class="passive_perception">
					Passive Perception:
				<input type="number" name="attr_passive_perception"
				class="stat_field" value="10"/>
		</td>
	</tr>
</table>
<table class="initiative_armour_speed_prof">
	<tr>
		<td class="initiative_armour_speed_prof">
			<input type="number" name="attr_proficiency_bonus"
			class="initiative_armour_speed_prof_field"/>
			<h4>
				Proficiency
			</h4>
		</td>
		<td class="initiative_armour_speed_prof">
			<input type="number" name="attr_armour_class"
			class="initiative_armour_speed_prof_field"/>
			<h4>
				AC
			</h4>
		</td>
		<td class="initiative_armour_speed_prof">
			<input type="number" name="attr_speed"
			class="initiative_armour_speed_prof_field"/>
			<h4>
				Speed
			</h4>
		</td>
		<td class="initiative_armour_speed_prof">
			<input type="number" name="attr_initiative"
			class="initiative_armour_speed_prof_field"/>
			<br>
			<button type="roll" class="initiative"
				value="&{template:default} {{name=@{character_name}}} {{Initiative Roll=[[1d20 + @{initiative}]]}}">
				Initiative
			</button>
		</td>
	</tr>
	<tr>
		<td class="info_td">
			<input type="text" name="attr_inspiration"
			class="initiative_armour_speed_prof_field"/>
			<h4>
				Inspiration
			</h4>
		</td>
		<td class="info_td"">
			<h4>
				Hit Dice: <input type="text" name="attr_hit_dice"
					class="initiative_armour_speed_prof_field"/>
			</h4>
			Max: <br><input type="number" name="attr_max_hit_dice"
				value="@{level}" class="initiative_armour_speed_prof_field"
					disabled="true"/><br>
			Current:<br> <input type="number" name="attr_current_hit_dice"
			class="initiative_armour_speed_prof_field"/>
		</td>
		<td colspan="2" class="info_td">
			<h2>
				Death Saves
			</h2>
			Saves:
			<input type="checkbox" name="attr_success1"/>
			<input type="checkbox" name="attr_success2"/>
			<input type="checkbox" name="attr_success3"/><br>
			Failures:
			<input type="checkbox" name="attr_failure1"/>
			<input type="checkbox" name="attr_failure2"/>
			<input type="checkbox" name="attr_failure3"/>
		</td>
	</tr>
	<tr>
		<td colspan="2" class="info_td">
			<h2>
				HP
			</h2><input type="number" name="attr_current_hp"
			class="initiative_armour_speed_prof_field"/> /
			<input type="number" name="attr_max_hp"
			class="initiative_armour_speed_prof_field"/>
		</td>
		<td colspan="2" class="info_td">
			<h2>
				Temp HP: <input type="number" name="attr_temp_hp"
					class="initiative_armour_speed_prof_field"/>
			</h2>
		</td>
	</tr>
	<tr>
		<td colspan="4" class="formtable">
			<h2>
				Attacks
			</h2>
			<fieldset class="repeating_attacks">
				<table class="formtable">
					<div class="weapon_row">
							<input type="text" class="weapontitle"
								name="attr_name_weapon" value="Attack Name"/>
					</div>
					<div class="weapon_row">
						Attack Roll:
						<input type="checkbox" class="toggle_weapon" name="attr_attack_toggle_weapon" checked="true"/><br>
						<span class="weapon_column">
							Ability Mod:
							<select name="attr_ability_weapon">
								<option value="strength">Strength</option>
								<option value="dexterity">Dexterity</option>
								<option value="constitution">Constitution</option>
								<option value="intelligence">Intelligence</option>
								<option value="wisdom">Wisdom</option>
								<option value="charisma">Charisma</option>
								<option value="none">None</option>
							</select>
						</span>
						<span class="weapon_column">
							Proficient: <input type="checkbox"
								name="attr_proficient_weapon"/>
						</span>
						<span class="weapon_column">
							Misc Atk Mod: <input type="number" value="0"
								name="attr_misc_atk_mod_weapon"/>
						</span>
					</div>
					<div class="weapon_row">
						Damage Roll: <input type="checkbox" class="toggle_weapon"
							name="attr_damage_toggle_weapon" checked="true"/><br>
						<span class="weapon_column">
							Dmg Dice: <input type="text" value="1d6"
									name="attr_damage_dice_weapon"/>
						</span>
						<span class="weapon_column">
							Misc Dmg Mod: <input type="number" value="0"
								name="attr_misc_dmg_mod_weapon"/>
						</span>
					</div>
					<div class="weapon_row">
						Saving Throw: <input type="checkbox"
							class="toggle_weapon"
								name="attr_saving_throw_toggle_weapon"/><br>
						<span class="weapon_column">
							DC: <input type="number" name="attr_saving_throw_dc_weapon"/>
						</span>
						<span class="weapon_column">
							Type:
							<select name="attr_saving_throw_type_weapon">
								<option value="Strength">Strength</option>
								<option value="Dexterity">Dexterity</option>
								<option value="Constitution">Constitution</option>
								<option value="Intelligence">Intelligence</option>
								<option value="Wisdom">Wisdom</option>
								<option value="Charisma">Charisma</option>
							</select>
						</span>
					</div>
					<div class="weapon_row">
						Ammo: <input type="checkbox" class="toggle_weapon" checked/><br>
						<span class="weapon_column">
							Current: <input type="number" name="attr_current_ammo_weapon"/>
						</span>
						<span class="weapon_column">
							Max: <input type="number" name="attr_max_ammo_weapon"/>
						</span>
					</div> <div class="weapon_row">
						Slot Level: <input type="checkbox" class="toggle_weapon"
							name="attr_slot_level_toggle_weapon"/><br>
						<span class="weapon_column">
							<input type="number" name="attr_slot_level_weapon"/>
						</span>
					</div>
					<div class="weapon_row">
						Description:<br>
						<textarea name="attr_description_weapon"></textarea>
							<button type="roll" name="attr_attack_weapon"
								value="&{template:default}"
									class="attackbutton"> BANG! </button>
					</div>
				</table>
			</fieldset>
		</td>
	</tr>
	<tr>
		<td colspan="4" class="formtable">
			<h2>
				Resources
			</h2>
			<fieldset class="repeating_resources">
				<div class="resource">
					Name: <input type="text" name="attr_name_resource"
						class = "text_field"/>
					Current: <input type="number" name="attr_current_resource"
						class = "initiative_armour_speed_prof_field"/>
					Max: <input type="number" name="attr_max_resource"
						class = "initiative_armour_speed_prof_field"/>
				</div>
			</fieldset>
		</td>
	</tr>
	<tr>
		<td colspan="4" class="formtable">
			<h2>
				Features and Traits
			</h2>
			<fieldset class="repeating_features">
				<table>
					<tr>
						<td colspan="2" class="features_and_traits_text">
							Name: <input type="text" name="attr_name_feature"
								class = "text_field"/>
						</td>
						<td colspan="2" class="features_and_traits_text">
							Source/Level:
							</h2>
							<input type="text" name="attr_source_feature"
								class = "text_field"/>
						</td>
					</tr>
					<tr>
						<td colspan="4" class="features_and_traits_text">
							Description:	<textarea name="attr_description_feature"></textarea>
							<button type="roll" name="attr_describe_feature">
								?
							</button>
						</td>
					</tr>
				</table>
			</fieldset>
		</td>
	</tr>
	<tr>
		<td colspan="4" class="formtable">
			<h2>
				Equipment
			</h2>
			<fieldset class="repeating_equipment">
					<table>
						<tr>
							<td>
								Name: <input type="text" name="attr_name_equipment"
									class = "text_field"/><br>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								Description:	<textarea name="attr_description_equipment"></textarea>
								<button type="roll" name="attr_describe_equipment">
									?
								</button>
							</td>
						</tr>
					</table>
					<div class="equipment">
					</div>
			</fieldset>
		</td>
	</tr>
	<tr>
		<td colspan="4" class="formtable">
			<h2>
				Other Proficiencies
			</h2>
			<fieldset class="repeating_proficiencies">
					Name: <input type="text" name="attr_proficiency"
						class = "text_field"/>
			</fieldset>
		</td>
	</tr>
</table>

<script type="text/worker">
	// When stats are changed
	on("change:strength", function() {
		getAttrs(["strength"], function(values) {
			let strength_mod = Math.floor((values.strength - 10)/2);
			setAttrs({"strength_mod": strength_mod});
		});
	});

	on("change:dexterity", function() {
		getAttrs(["dexterity"], function(values) {
			let dexterity_mod = Math.floor((values.dexterity - 10)/2);
			setAttrs({"dexterity_mod": dexterity_mod, "initiative": dexterity_mod});
		});
	});

	on("change:constitution", function() {
		getAttrs(["constitution"], function(values) {
			let constitution_mod = Math.floor((values.constitution - 10)/2);
			setAttrs({"constitution_mod": constitution_mod});
		});
	});

	on("change:intelligence", function() {
		getAttrs(["intelligence"], function(values) {
			let intelligence_mod = Math.floor((values.intelligence - 10)/2);
			setAttrs({"intelligence_mod": intelligence_mod});
		});
	});

	on("change:wisdom change:perception_proficiency change:proficiency_bonus", function() {
		getAttrs(["wisdom", "proficiency_bonus", "perception_proficiency"], function(values) {
			let wisdom_mod = Math.floor((values.wisdom - 10)/2);
			setAttrs({"wisdom_mod": wisdom_mod, "passive_perception": 10 + wisdom_mod + parseInt(values.perception_proficiency) * parseInt(values.proficiency_bonus)});
		});
	});

	on("change:charisma", function() {
		getAttrs(["charisma"], function(values) {
			let charisma_mod = Math.floor((values.charisma - 10)/2);
			setAttrs({"charisma_mod": charisma_mod});
		});
	});

// Attack rolls
	on("change:repeating_attacks:name_weapon change:repeating_attacks:ability_weapon change:repeating_attacks:proficient_weapon change:repeating_attacks:misc_atk_mod_weapon change:repeating_attacks:damage_dice_weapon change:repeating_attacks:misc_dmg_mod_weapon change:repeating_attacks:current_ammo_weapon change:repeating_attacks:max_ammo_weapon change:repeating_attacks:description_weapon change:repeating_attacks:slot_level_weapon change:repeating_attacks:attack_toggle_weapon change:repeating_attacks:damage_toggle_weapon change:repeating_attacks:saving_throw_toggle_weapon change:repeating_attacks:slot_level_toggle_weapon change:repeating_attacks:saving_throw_dc_weapon change:repeating_attacks:saving_throw_type_weapon", function() {
		getAttrs(["strength_mod",
							"dexterity_mod",
							"constitution_mod",
							"intelligence_mod",
							"charisma_mod",
							"wisdom_mod",
							"proficiency_bonus",
							"character_name",
							"repeating_attacks_name_weapon",
							"repeating_attacks_attack_toggle_weapon",
							"repeating_attacks_damage_toggle_weapon",
							"repeating_attacks_saving_throw_toggle_weapon",
							"repeating_attacks_slot_level_toggle_weapon",
							"repeating_attacks_ability_weapon",
							"repeating_attacks_proficient_weapon",
							"repeating_attacks_misc_atk_mod_weapon",
							"repeating_attacks_damage_dice_weapon",
							"repeating_attacks_misc_dmg_mod_weapon",
							"repeating_attacks_slot_level_weapon",
							"repeating_attacks_saving_throw_dc_weapon",
							"repeating_attacks_saving_throw_type_weapon",
							"repeating_attacks_description_weapon"
							], function(values) {
							let newTemplate = "&{template:default} {{name="+values.repeating_attacks_name_weapon+"}}";
							let attackAbilityBonus = 0;
							if (values.repeating_attacks_attack_toggle_weapon != 0) {
								// If the attack checkbox is ticked
								switch(values.repeating_attacks_ability_weapon) {
									case "strength":
										attackAbilityBonus = values.strength_mod;
										break;
									case "dexterity":
										attackAbilityBonus = values.dexterity_mod;
										break;
									case "constitution":
										attackAbilityBonus = values.constitution_mod;
										break;
									case "intelligence":
										attackAbilityBonus = values.intelligence_mod;
										break;
									case "wisdom":
										attackAbilityBonus = values.wisdom_mod;
										break;
									case "charisma":
										attackAbilityBonus = values.charisma_mod;
										break;
									case "none":
										attackAbilityBonus = 0;
										break;
								}
								let attackProficiencyBonus;
								if (values.repeating_attacks_proficient_weapon == 0) {
									attackProficiencyBonus = 0;
								} else {
									attackProficiencyBonus = values.proficiency_bonus;
								}
								let attackMiscBonus = values.repeating_attacks_misc_atk_mod_weapon;
								newTemplate += "{{Attack Roll=[[1d20+"+attackAbilityBonus+"+"+attackProficiencyBonus+"+"+attackMiscBonus+"]]}}"
							}

							if (values.repeating_attacks_damage_toggle_weapon != 0) {
								// If the damage checkbox is ticked
								let damageDice = values.repeating_attacks_damage_dice_weapon;
								let damageMiscBonus = values.repeating_attacks_misc_dmg_mod_weapon;
								newTemplate += "{{Damage Roll=[["+damageDice+"+"+attackAbilityBonus+"+"+damageMiscBonus+"]]}}";
							}

							if (values.repeating_attacks_saving_throw_toggle_weapon != 0) {
								let savingThrowDC = values.repeating_attacks_saving_throw_dc_weapon;
								let saveType = values.repeating_attacks_saving_throw_type_weapon;
								newTemplate += "{{Saving Throw=" + savingThrowDC + "DC " + saveType + " save}}";
							}

							if (values.repeating_attacks_slot_level_toggle_weapon != 0) {
								let slotLevel = values.repeating_attacks_slot_level_weapon;
								newTemplate += "{{Slot Level=" + slotLevel + "}}";
							}

							if (values.repeating_attacks_description_weapon.trim().length != 0) { //check if the string is all whitespace or empty
								newTemplate += " {{Description="+values.repeating_attacks_description_weapon+"}}";
							}
							setAttrs({"repeating_attacks_attack_weapon": newTemplate});
			});
	});

	on("change:repeating_features:name_feature change:repeating_features:source_feature change:repeating_features:description_feature", function () {
		getAttrs(["repeating_features_name_feature",
							"repeating_features_source_feature",
							"repeating_features_description_feature"], function(values) {
								console.log("hello");
								setAttrs({"repeating_features_describe_feature": "&{template:default} {{name="+values.repeating_features_name_feature+"}} {{Description="
								+values.repeating_features_description_feature+"}}"});
			});
	});

	on("change:repeating_equipment:name_equipment change:repeating_equipment:description_equipment", function () {
		getAttrs(["repeating_equipment_name_equipment",
							"repeating_equipment_description_equipment"], function(values) {
								setAttrs({"repeating_equipment_describe_equipment": "&{template:default} {{name="+values.repeating_equipment_name_equipment
								+ "}} {{Description="+ values.repeating_equipment_description_equipment + "}}"});
			});
	});

</script>
